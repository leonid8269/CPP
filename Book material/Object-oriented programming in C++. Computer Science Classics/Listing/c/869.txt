//ex8_2.cpp
//перегружаема€ операци€ '+=' дл€ конкатенации строк
#include <iostream>
#include <cstring>//дл€ strcpy(),strlen()
using namespace std;
#include <process.h>//дл€ exit()
///////////////////////////////////////////////////////////
class String //пользовательский строковый тип
    {
    private:
      enum {SZ =80 };     //размер объектов String
      char str [SZ];      //содержит —-строку
    public:
      String()            //конструктор без аргументов
        {strcpy(str,"");}
      String(char s [] )) //конструктор с 1 аргументом
        {strcpy(str,s);}
    void display()        //вывод строки
      {cout <<str;}
    String operator +=(String ss)//прибавление строки к
                                 // имеющейс€
        {//результат сохран€етс€ в имеющейс€ строке
        if(strlen(str)+strlen(ss.str)>=SZ )
          {cout <<"\nѕереполнение строки";exit(1);}
        strcat(str,ss.str);      //добавить аргументную строку
        return String(str);      //вернуть временный String
        }
    };
///////////////////////////////////////////////////////////
int main()
    {
    String s1 ="— Ќовым √одом!"; //использует конструктор с
                                 //одним аргументом
    String s2 ="”ра, товарищи!"; //использует конструктор
                                 // с одним аргументом
    String s3;  //использует конструктор без аргументов
    s3 =s1 +=s2;// прибавить s2 к s1, результат Ц в s3
    cout <<"\ns1=";s1.display(); //вывести s1
    cout <<"\ns2=";s2.display(); //вывести s2
    cout <<"\ns3=";s3.display(); //вывести s3
    cout <<endl;
    return 0;
    }


